<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ³å¤´å‰ªåˆ€å¸ƒå°æ¸¸æˆ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>çŸ³å¤´å‰ªåˆ€å¸ƒå°æ¸¸æˆ</h1>
        <div id="score">å¾—åˆ†ï¼š<span>0</span></div>
        <div id="history">æˆ˜ç»©ï¼šèƒœ <span class="wins">0</span> å±€ï¼Œå¹³ <span class="draws">0</span> å±€ï¼Œè´Ÿ <span class="losses">0</span> å±€</div>
        
        <div id="message">é€‰æ‹©ä½ çš„é€‰é¡¹å¼€å§‹æ¸¸æˆï¼</div>
        <div id="choices">
            <button onclick="play('çŸ³å¤´')">âœŠ çŸ³å¤´</button>
            <button onclick="play('å‰ªåˆ€')">âœŒï¸ å‰ªåˆ€</button>
            <button onclick="play('å¸ƒ')">âœ‹ å¸ƒ</button>
        </div>
        <div id="result"></div>
        <div id="selections"></div>
    </div>

    <div id="victory-modal" class="modal">
        <div class="modal-content">
            <h2>ğŸ‰ å“‡ä½ å¤ªæ£’äº†ï¼ ğŸ‰</h2>
            <p>æ­å–œä½ è·å¾—10æ¬¡èƒœåˆ©ï¼</p>
            <button onclick="closeModal()">ç»§ç»­æ¸¸æˆ</button>
        </div>
    </div>

    <script>
        let score = 0;
        let wins = 0;
        let draws = 0;
        let losses = 0;
        
        function updateHistory() {
            document.querySelector('.wins').textContent = wins;
            document.querySelector('.draws').textContent = draws;
            document.querySelector('.losses').textContent = losses;
        }

        function showVictoryModal() {
            document.getElementById('victory-modal').style.display = 'flex';
            createConfetti();
        }

        function closeModal() {
            document.getElementById('victory-modal').style.display = 'none';
        }

        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                document.body.appendChild(confetti);
                
                // æ¸…ç†ç¤¼èŠ±
                setTimeout(() => confetti.remove(), 3000);
            }
        }
        
        function play(playerChoice) {
            // ç”µè„‘éšæœºé€‰æ‹©
            const choices = ['çŸ³å¤´', 'å‰ªåˆ€', 'å¸ƒ'];
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            
            // æ˜¾ç¤ºé€‰æ‹©
            document.getElementById('selections').innerHTML = 
                `ä½ é€‰æ‹©äº†${playerChoice}ï¼Œç”µè„‘é€‰æ‹©äº†${computerChoice}`;
            
            // åˆ¤æ–­ç»“æœ
            let result;
            if (playerChoice === computerChoice) {
                result = 'å¹³å±€ï¼';
                document.getElementById('result').className = 'draw';
                draws++;
            } else if (
                (playerChoice === 'çŸ³å¤´' && computerChoice === 'å‰ªåˆ€') ||
                (playerChoice === 'å‰ªåˆ€' && computerChoice === 'å¸ƒ') ||
                (playerChoice === 'å¸ƒ' && computerChoice === 'çŸ³å¤´')
            ) {
                result = 'ä½ èµ¢äº†ï¼';
                document.getElementById('result').className = 'win';
                score++;
                wins++;
                document.querySelector('#score span').textContent = score;
                
                // æ£€æŸ¥æ˜¯å¦è¾¾åˆ°10èƒœ
                if (wins === 10) {
                    showVictoryModal();
                }
            } else {
                result = 'ä½ è¾“äº†ï¼';
                document.getElementById('result').className = 'lose';
                losses++;
            }
            
            updateHistory();
            document.getElementById('result').innerHTML = result;
        }
    </script>
</body>
</html> 